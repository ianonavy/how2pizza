{% extends 'pizza/base.html' %}

{% block content %}
		<div class="g--10 m--1 container container--wrap--m">
			<div class="g--5 g-m--12 fade-in-from-left card">
				<h3>What they want:</h3>
				<table id="user-choices" class="tile">
					<thead>
						<!-- should really be th but Surface... -->
						<tr class="table-header">
							<td>Name</td>
							<td>Types</td>
						</tr>
					</thead>
					<tbody>
						{% for choice in order.user_choices.all %}
						<tr class="user-choice">
							<td>{{ choice.name }}</td>
							<td>{{ choice.get_types_as_csv }}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
			<div class="g--3 g-m--12 fade-in-from-left card nudge--left nudge--right no-nudge--m">
				<h3>What you want:</h3>
				<form method="POST">
					{% csrf_token %}
					<div class="form-group">
						<label for="name">What is your name?</label>
						<input id="name" type="text" name="name" required{% if name %} value="{{ name }}" {% endif %} maxlength="24">
					</div>
					<div class="form-group">
						<label>Pick your pizza:</label>
						<div id="existing-types">
							{% for pizza_type in order.get_pizza_types %}
							<label><input name="types[]" type="checkbox" value="{{ pizza_type }}"{% if user_choice and pizza_type in user_choice.get_pizza_types %}checked{% endif %}>{{ pizza_type }}</label>
							{% endfor %}
						</div>
					</div>
					<div class="form-group">
						<label>Or add your own:</label>
						<div id="types-list">
							<input name="types[]" type="text" class="pizza-type" maxlength="24">
						</div>
						<a id="add-pizza" href="#">Add another</a>
					</div>
					<input class="btn--raised btn--primary" type="submit" value="Submit">
				</form>
			</div>
			<div class="g--4 g-m--12 fade-in-from-left card">
				<h3>What to order:</h3>
				<label for="people-per-pizza">How many people per pizza?</label>
				<input type="text" id="people-per-pizza" value="3" class="form-control">
				<label>You should buy:</label>
				<ul id="pizza-list">
				</ul>
			</div>
		</div>
{% endblock content %}
